Index: main.go
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package main\r\n\r\nimport (\r\n\t\"flag\"\r\n\t\"fmt\"\r\n\t\"go-scrape-redmine/Notify\"\r\n\t\"go-scrape-redmine/config\"\r\n\t\"go-scrape-redmine/crawl/pherusa\"\r\n\t_ \"go-scrape-redmine/crawl/pherusa\"\r\n\tRedmine \"go-scrape-redmine/crawl/redmine\"\r\n\t\"go-scrape-redmine/models\"\r\n\tMember \"go-scrape-redmine/seed/members\"\r\n\t\"go-scrape-redmine/server\"\r\n\t\"sync\"\r\n\r\n\t\"github.com/robfig/cron/v3\"\r\n)\r\n\r\nconst num_workers = 1\r\n\r\nfunc main() {\r\n\r\n\tconfig.LoadENV()\r\n\tdb := config.DBConnect()\r\n\tmodels.DBMigrate(db)\r\n\tvar seed string\r\n\tflag.StringVar(&seed, \"seed\", \"none\", \"seed option\")\r\n\tflag.Parse()\r\n\r\n\tif seed == \"member\" {\r\n\t\tfmt.Println(\"Importing member\")\r\n\t\tMember.NewMember().SeedMember()\r\n\t\treturn\r\n\t} else if seed == \"issue\" {\r\n\t\tfmt.Println(\"Importing issue\")\r\n\t\t//Redmine.NewRedmine().CrawlRedmine()\r\n\t\tpherusa.NewPherusa().CrawlPherusa()\r\n\t\treturn\r\n\t} else if seed == \"getissue\" {\r\n\t\tNotify.NewNotify(db).GetIssueOverdueStatusNone(\"pherusa\")\r\n\t\treturn\r\n\t} else if seed == \"chatwork\" {\r\n\t\tNotify.NotiChatWork()\r\n\t\treturn\r\n\t} else if seed != \"none\" {\r\n\t\tfmt.Println(\"Flag seed invalid\")\r\n\t\treturn\r\n\t}\r\n\r\n\tvar wg sync.WaitGroup\r\n\twg.Add(num_workers)\r\n\r\n\tcr := cron.New()\r\n\tcr.AddFunc(\"0 18 * * *\", Redmine.NewRedmine().CrawlRedmine)\r\n\tcr.AddFunc(\"0 18 * * *\", Notify.NotiChatWork)\r\n\tcr.Start()\r\n\r\n\tgo server.Run(&wg)\r\n\twg.Wait()\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/main.go b/main.go
--- a/main.go	
+++ b/main.go	
@@ -1,19 +1,18 @@
 package main
 
 import (
-	"flag"
-	"fmt"
-	"go-scrape-redmine/Notify"
-	"go-scrape-redmine/config"
-	"go-scrape-redmine/crawl/pherusa"
-	_ "go-scrape-redmine/crawl/pherusa"
-	Redmine "go-scrape-redmine/crawl/redmine"
-	"go-scrape-redmine/models"
-	Member "go-scrape-redmine/seed/members"
-	"go-scrape-redmine/server"
-	"sync"
+    "flag"
+    "fmt"
+    "go-scrape-redmine/Notify"
+    "go-scrape-redmine/config"
+    _ "go-scrape-redmine/crawl/pherusa"
+    Redmine "go-scrape-redmine/crawl/redmine"
+    "go-scrape-redmine/models"
+    Member "go-scrape-redmine/seed/members"
+    "go-scrape-redmine/server"
+    "sync"
 
-	"github.com/robfig/cron/v3"
+    "github.com/robfig/cron/v3"
 )
 
 const num_workers = 1
@@ -33,8 +32,8 @@
 		return
 	} else if seed == "issue" {
 		fmt.Println("Importing issue")
-		//Redmine.NewRedmine().CrawlRedmine()
-		pherusa.NewPherusa().CrawlPherusa()
+		Redmine.NewRedmine().CrawlRedmine()
+		//pherusa.NewPherusa().CrawlPherusa()
 		return
 	} else if seed == "getissue" {
 		Notify.NewNotify(db).GetIssueOverdueStatusNone("pherusa")
